<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Chloe 280SE</title>
    <style>
      body {
        background-color: #2a4e96;
      }

      canvas.emscripten {
          border: 0 none;
          background-color: #000;
          display: block;
          margin: 0 auto;
      }

      #controls {
        display: inline-block;
        vertical-align: top;
        margin-top: 30px;
        margin-right: 20px;
    }
  </style>
</head>
<body>
  <span id=controls>
    <span>
      <input type=checkbox id=muted onclick='emulator.toggleMute()'>Mute
      <input type=button id=reset value="Reset" onclick='JSMESS.soft_reset()'>
      <input type=button id=fullscr value="Full Screen" onclick='emulator.requestFullScreen()'>
    </span>
  </span>
  <canvas id=canvas class=emscripten />

    <script type="text/javascript" src="es6-promise.js"></script>
    <script type="text/javascript" src="browserfs.min.js"></script>
    <script type="text/javascript" src="loader.js"></script>
    <script type="text/javascript">
      var loader = new MAMELoader(MAMELoader.driver("chloe"),
                    MAMELoader.nativeResolution(640, 480),
                    MAMELoader.emulatorJS("mame.js"),
                    MAMELoader.emulatorWASM("mame.wasm"),
                    MAMELoader.mountFile("chloe.zip", MAMELoader.fetchFile("Bios", "roms/chloe.zip")),
                    //MAMELoader.mountFile("chloe.chd", MAMELoader.fetchFile("Disk", "software/chloe240se.chd")),
                    //MAMELoader.mountFile("chloe.chd", MAMELoader.fetchFile("Disk", "software/2019.chd")),
                    //MAMELoader.peripheral("hard1", "chloe.chd"),

                    MAMELoader.mountFile("chloe.img", MAMELoader.fetchFile("Disk", "software/chloe.img")),
                    MAMELoader.peripheral("hard1", "chloe.img"),

                    MAMELoader.extraArgs([]));
      var emulator = new Emulator(document.querySelector("#canvas"), null, loader);
      emulator.start({ waitAfterDownloading: true });
    </script>
  </body>
</html>
